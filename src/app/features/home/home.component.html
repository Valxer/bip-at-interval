<div class="p-6 max-w-md mx-auto bg-white rounded-xl shadow-lg space-y-6">
  <h2 class="text-2xl font-bold text-gray-800">Bip Loop Pro</h2>
  
  <div class="space-y-2">
    <label class="block text-sm font-medium">Changer le son (optionnel)</label>
    <input type="file" (change)="onFileSelected($event)" accept="audio/mp3, audio/wav" 
            class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100">
    <div class="mt-2 flex items-center gap-2 text-sm text-gray-600 italic">
      <span class="font-semibold text-indigo-600">Source actuelle :</span>
      <span>{{ fileName() }}</span> 
    </div>
  </div>

  <div class="grid grid-cols-2 gap-4">
    <div>
      <label class="block text-sm font-medium">Intervalle (sec)</label>
      <input #secInput type="number" [value]="intervalTotal()" (input)="updateInterval($event)" class="mt-1 block w-full border rounded-md p-2">
    </div>
    <div>
      <label class="block text-sm font-medium">Volume ({{ (volume() * 100).toFixed(0) }}%)</label>
      <input type="range" min="0" max="1" step="0.01" [value]="volume()" 
              (input)="updateVolume($event)" class="mt-3 w-full">
    </div>
  </div>

  <div class="flex gap-3">
    <button (click)="start(secInput.value)" [disabled]="isPlaying()"
            class="flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 disabled:bg-gray-300">
      Démarrer
    </button>
    <button (click)="vm.stop()" class="flex-1 bg-gray-200 text-gray-800 py-2 rounded-lg hover:bg-gray-300">
      Arrêter
    </button>
  </div>

  @if (isPlaying()) {
    <div class="p-4 bg-indigo-50 border border-indigo-100 rounded-lg text-center">
      <p class="text-sm text-indigo-600 font-medium">Prochain lancement dans :</p>
      <p class="text-4xl font-black text-indigo-800">{{ timeLeft() }}</p>
    </div>
  }
</div>